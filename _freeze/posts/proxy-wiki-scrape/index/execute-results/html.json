{
  "hash": "cf8096086de502727350918eb601228b",
  "result": {
    "markdown": "---\ntitle: \"Proxy Wars - Wiki Scrape\"\ndate: \"Aug 8, 2023\"\ncategories: [scraping, R, combat]\ndescription: 'Scrape Wikipedia for proxy war data'\nformat:\n  html:\n    # embed-resources: true\n    code-fold: true\n    code-tools:\n      source: false\n      toggle: true\n      caption: \"Show the code\"\n    code-summary: \"Show the code\"\n    #theme: flatly\n    #theme: slate\n    #keep-md: true\neditor: visual\ntoc: true\n#number-sections: true\nexecute: \n  warning: false\n  message: false\n  error: false\n  echo: true\n# editor_options: \n#   chunk_output_type: console\n# image: \"image.jpeg\"\n---\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](image.jpeg){fig-align='center' width=1700}\n:::\n:::\n\n\n[Image source: Virginia Tech Publishing](https://twitter.com/VirginiaTechPub?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1286360278993637376%7Ctwgr%5Efc9afc3148e3ac140d50294d58f2ab0d0e5d5221%7Ctwcon%5Es1_&ref_url=https%3A%2F%2Fpublishing.vt.edu%2Fsite%2Fbooks%2Fm%2F10.21061%2Fproxy-wars-maguire%2F)\n\n## Proxy wars\n\nViolence, conflict, and proxy warfare -- all on a blissful, dreamy Sunday afternoon. Actually, I was listening to an NPR discussion on an afternoon drive that referenced the work of the [Proxy War Project out of Virginia Tech](https://publishing.vt.edu/site/books/series/pwp-conflict-studies/). As a data geek, the next obvious question is: Gee, where can I find data on that?\n\nWhat does the general public think of regarding proxy warfare? Is it a rag tag group of thugs funded by a dark agency and left to run around the forest? Or maybe proxy wars are a relic of the cold war? To the contrary, [according to War on the Rocks](https://warontherocks.com/2021/09/the-return-of-great-power-proxy-wars/) (a super cool site on all things war and conflict), \"\\[e\\]vents of the last decade suggest the increasing salience of such conflicts.\" The blog goes on to say that \"\\[p\\]roxy wars are poised to be a...significant factor in the evolving strategic environment.\"\n\nSo, as soon as I got home, I jumped online for a quick search for some data. The first thing I found [was the Wikipedia page](https://en.wikipedia.org/wiki/List_of_proxy_wars). It most certainly is not the most comprehensive data, but it has a nice feature: A helpful Wiki contributor created a typology of proxy wars. I decided to scrape it to started some initial exploration.\n\nI'm not intending for this to be a deep dive into coding nor proxy war dynamics. This is just a quick and dirty scrape of Wikipedia data to get a sense of what's going.\n\n## Scraping and Cleaning Wikipedia Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# libraries\nlibrary(rvest)\nlibrary(tidyverse)\nlibrary(kableExtra)\nsource(\"my_gg_theme.R\")\n\n# Scrape the tables from the page\nproxy_tables <- \n  read_html('https://en.wikipedia.org/wiki/List_of_proxy_wars') %>%\n  html_table(fill = TRUE) %>% \n  # set names based on Wikipedia names\n  set_names(\n    c(\n      'Caveat',\n      'Series', \n      'Pre-World War I proxy wars', \n      'Inter-war period proxy wars',\n      'Cold War proxy wars',\n      'Modern proxy wars',\n      'Ongoing proxy wars'\n    )) \n```\n:::\n\n\nThe Wikipedia page displays the following caveat:\n\n> This article or section appears to be slanted towards recent events. Please try to keep recent events in historical perspective and add more content related to non-recent events. (October 2022)\n\nWikipedia spread the data across a number of tables. To prep the data for plotting, I put them into one big data frame and did some minor cleaning. In particular, the dates were a little jenky. The resulting data looks like:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# data cleaning\nproxy_data_df <- \n  # drop unneeded data\n  proxy_tables[-c(1,2)] %>% \n  map2_df(\n    names(proxy_tables[-c(1,2)]),\n    ~mutate(.x, war_type = .y)) %>% \n  janitor::clean_names() %>% \n  separate(\n    dates, \n    into = c('start_year', 'end_year'), \n    sep = \"–\") %>%\n  mutate(across(\n    start_year:end_year,\n    ~ str_extract(.x, '[0-9]{4}') %>% \n    as.numeric(.x))) %>% \n  mutate(across(\n    c(war, combatant_1, combatant_1, result),\n    ~ str_remove(., \"\\\\[.*\\\\]$\")))\n\nproxy_data_df %>% \n  slice_head(n = 5) %>% \n  knitr::kable() %>%\n  kable_styling(font_size = 7)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"font-size: 7px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> war </th>\n   <th style=\"text-align:right;\"> start_year </th>\n   <th style=\"text-align:right;\"> end_year </th>\n   <th style=\"text-align:left;\"> combatant_1 </th>\n   <th style=\"text-align:left;\"> combatant_2 </th>\n   <th style=\"text-align:left;\"> result </th>\n   <th style=\"text-align:left;\"> war_type </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Egyptian–Ottoman War </td>\n   <td style=\"text-align:right;\"> 1839 </td>\n   <td style=\"text-align:right;\"> 1841 </td>\n   <td style=\"text-align:left;\"> Egypt-aligned powers: Egypt\n France Spain </td>\n   <td style=\"text-align:left;\"> Allied powers: British Empire\n Austrian Empire\n Russian Empire\n Kingdom of Prussia\n Ottoman Empire </td>\n   <td style=\"text-align:left;\"> Compromise </td>\n   <td style=\"text-align:left;\"> Pre-World War I proxy wars </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Uruguayan Civil War </td>\n   <td style=\"text-align:right;\"> 1839 </td>\n   <td style=\"text-align:right;\"> 1851 </td>\n   <td style=\"text-align:left;\"> Colorados Unitarian Party Empire of Brazil Italian Legion  France Great Britain </td>\n   <td style=\"text-align:left;\"> Blancos Argentine Confederation </td>\n   <td style=\"text-align:left;\"> Colorado victory </td>\n   <td style=\"text-align:left;\"> Pre-World War I proxy wars </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Mahdist War </td>\n   <td style=\"text-align:right;\"> 1881 </td>\n   <td style=\"text-align:right;\"> 1899 </td>\n   <td style=\"text-align:left;\"> British Empire\n Canada\n Khedivate of Egypt Belgium\n\n Congo Free State Ethiopian Empire\n Italy\n\nSupported by: Emirate of Jabal Shammar </td>\n   <td style=\"text-align:left;\"> Mahdist Sudan\nSupported by: Ottoman Empire Russian Empire France </td>\n   <td style=\"text-align:left;\"> British-Egyptian-Italian victory </td>\n   <td style=\"text-align:left;\"> Pre-World War I proxy wars </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> First Samoan Civil War </td>\n   <td style=\"text-align:right;\"> 1886 </td>\n   <td style=\"text-align:right;\"> 1894 </td>\n   <td style=\"text-align:left;\"> Tamasese German Empire </td>\n   <td style=\"text-align:left;\"> Mata'afans\nSupported by: United States </td>\n   <td style=\"text-align:left;\"> Stalemate </td>\n   <td style=\"text-align:left;\"> Pre-World War I proxy wars </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Second Samoan Civil War </td>\n   <td style=\"text-align:right;\"> 1898 </td>\n   <td style=\"text-align:right;\"> 1899 </td>\n   <td style=\"text-align:left;\"> Mata'afans German Empire </td>\n   <td style=\"text-align:left;\"> Samoa United Kingdom  United States </td>\n   <td style=\"text-align:left;\"> Stalemate </td>\n   <td style=\"text-align:left;\"> Pre-World War I proxy wars </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Plotting war duration\n\nTo avoid rewriting a bunch of code, let's create a little function to select the war-type of choice and plot the data. (Note, the plotting code was a little long and distracting, so I pushed some of it to a source script.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a function to select war type and plot\nwar_plot <- function(df, type) {\n  \n  df %>% \n    filter(\n      war_type == type\n    ) %>% \n    ggplot(aes(\n      x = fct_reorder(war, -start_year),\n      y = start_year)) +\n    geom_segment(aes(\n      xend = war, \n      yend = end_year), \n      color = \"cadetblue\",\n      alpha = 0.75) +\n    # year start\n    geom_point(color = \"orange\", # #E69F00\n               size = 3,\n               alpha = 0.8) +\n    # year end\n    geom_point(aes(\n      y = end_year), \n      color = \"cadetblue\", \n      size = 3,\n      alpha = 0.8) +  \n    \n    coord_flip() +\n    labs(\n      x = \"\", \n      y = \"\",\n      title = type\n      ) +\n    # a sourced function for some trivial formatting \n    quick_gg_theme()\n}\n```\n:::\n\n::: {.cell layout-ncol=\"2\"}\n\n```{.r .cell-code}\nwar_plot(proxy_data_df, \"Pre-World War I proxy wars\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nwar_plot(proxy_data_df, 'Inter-war period proxy wars')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n::: {.cell layout-ncol=\"2\"}\n\n```{.r .cell-code}\nwar_plot(proxy_data_df, 'Modern proxy wars')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nwar_plot(proxy_data_df, 'Ongoing proxy wars')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwar_plot(proxy_data_df, 'Cold War proxy wars')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Wrap up\n\nFirst, that's a lot o' proxy wars. Of course, there's clearly a few problems with the data. Some dates are missing. And I'm suspicious about the ongoing proxy wars. Are they all really still ongoing?\n\nThe Cold War was fertile ground for proxy wars. I guess it makes sense, right? Cold wars are characterized by indirect conflict, working through proxies, pawns, and agents of mayhem.\n\nGiven that proxy wars are frequently a means for \"agents\" to have deniability regarding the havoc they are wrecking, there is likely a large number of unreported/undiscovered agent-proxy relationships.\n\nIt might be interesting to parse the text-based columns and see which actors are most frequently leveraging proxies, and in what parts of the world...another day...\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}